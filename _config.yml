# 1. Collection Definitions
collections:
  press:
    output: true
    permalink: /press/:name/
  media:
    output: true
    permalink: /media/:name/

# 2. Front Matter Defaults (CRITICAL FOR PAGINATION)
# This automatically assigns 'category: newsroom' to every file in your collections
# so that the pagination filter below actually finds them.
defaults:
  - scope:
      path: "_press"
    values:
      category: newsroom
      type: press
  - scope:
      path: "_media"
    values:
      category: newsroom
      type: media

# 3. Plugins
plugins:
  - jekyll-paginate-v2

# 4. Corrected Pagination V2 Configuration
pagination:
  enabled: true
  per_page: 10
  permalink: '/newsroom/page/:num/'
  # 'all' searches across posts + collections
  collection: 'all' 
  # This matches the category assigned in the 'defaults' section above
  category: 'newsroom' 
  sort_field: 'date'
  sort_reverse: true
  debug: true

# 5. Optional: AutoPages (Disabled as per your comment)
# autopages:
#   enabled: true
